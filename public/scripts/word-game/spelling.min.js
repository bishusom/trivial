function initWordGame(){console.log("Initializing Spelling Bee game with DictionaryAPI.dev");let n=[],A="",l=[],L=[],o=0,i=[],r=!1,I="Beginner",e=document.getElementById("center-letter"),t=[document.getElementById("letter-0"),document.getElementById("letter-1"),document.getElementById("letter-2"),document.getElementById("letter-3"),document.getElementById("letter-4"),document.getElementById("letter-5")],E=document.getElementById("current-word"),O=document.getElementById("spelling-submit");var d=document.getElementById("spelling-clear"),R=document.getElementById("spelling-shuffle"),s=document.getElementById("spelling-new"),T=document.getElementById("spelling-hint"),S=document.getElementById("spelling-give-up");let c=document.getElementById("spelling-feedback"),a=document.getElementById("spelling-center-letter"),N=document.getElementById("spelling-score"),D=document.getElementById("words-list"),u=document.getElementById("spelling-rank"),g=document.getElementById("game-over-modal"),C=document.getElementById("game-over-score"),m=document.getElementById("game-over-words");var B=document.getElementById("play-again-btn");async function P(){var e=["A","E","I","O","U"],t=["B","C","D","F","G","H","J","K","L","M","N","P","R","S","T","V","W","X","Y","Z"];do{for(A=F([...e,...t]),n=[A],"Q"===A?n.push("U"):n.push(F(e));n.length<7;){var E=F([...e,...t]);n.includes(E)||n.push(E)}n=[n[0],...p(n.slice(1))],i=["ABLE","BAKE","CAKE","DEAL","FEAR","GEAR","HEAL","JADE","KALE","LEAK","PEAR","REAL","SEAL","TEAR","WEAR","BABE","BALD","BALL","BAND","BANE","BARK","BASE","BEAD","BEAN","BEAR","BEAT","BELL","BELT","BEND","BILL","BIRD","BITE","BLADE","BLEED","BLEND","BLOW","BLUE","BOAR","BOAT","BOLD","BONE","BOOK","BOOM","BOOT","BORN","BOSS","BOWL","BREAD","BREAK","BREED","BRING","BROWN","BUILD","BURN","BURST","CAGE","CALL","CALM","CANE","CARD","CARE","CASE","CAST","CATCH","CAUSE","CELL","CENT","CLAD","CLAN","CLAP","CLEAN","CLEAR","CLIP","CLOUD","COAL","COAT","CODE","COLD","COME","CONE","COOK","COOL","CORE","CORN","COST","CRAWL","CREAM","CREEP","CROWD","CROWN","CURE","CURL","CUT","DANCE","DARE","DARK","DATE","DAWN","DEAD","DECK","DEED","DEEP","DEER","DESK","DIVE","DOOR","DOSE","DRAW","DREAM","DRESS","DRILL","DRINK","DRIVE","DROP","DRUM","DUST","EASE","EDGE","ELSE","EVEN","EVER","FACE","FACT","FADE","FAIL","FAIR","FALL","FARM","FAST","FEED","FEEL","FELL","FEND","FIND","FINE","FIRE","FIRM","FISH","FIST","FIVE","FLAG","FLAT","FLEW","FLOW","FOAM","FOLD","FOOD","FOOT","FORD","FORM","FORT","FREE","FRESH","FRIEND","FROST","FULL","FUSE","GAIN","GAME","GATE","GAVE","GIFT","GIRL","GIVE","GLAD","GLASS","GLOW","GOAL","GOAT","GOLD","GONE","GOOD","GRAB","GRADE","GRAND","GRASS","GREAT","GREEN","GREW","GRIP","GROW","GUARD","GUESS","GUIDE","HALL","HAND","HANG","HARD","HARM","HATE","HAVE","HEAD","HEAT","HEEL","HELL","HELP","HIDE","HIGH","HILL","HIRE","HOLD","HOLE","HOME","HOOK","HOPE","HORN","HORSE","HOST","HOUR","HUNT","HURT","IDEA","INCH","IRON","JACK","JAIL","JERK","JOIN","JOKE","JUMP","JUST","KEEP","KICK","KILL","KIND","KING","KISS","KNEE","KNOW","LACK","LAKE","LAND","LAST","LATE","LEAD","LEAF","LEAN","LEAP","LEFT","LEND","LESS","LIFT","LIKE","LINE","LINK","LIST","LIVE","LOAD","LOAN","LOCK","LONG","LOOK","LOOP","LORD","LOSE","LOSS","LOVE","LUCK","MAIL","MAIN","MAKE","MALE","MARK","MASS","MEAL","MEAN","MEAT","MEET","MEND","MILE","MILK","MIND","MINE","MISS","MIX","MOOD","MOON","MOVE","MUD","MUST","NAME","NEAR","NECK","NEED","NEST","NEWS","NEXT","NICE","NIGHT","NODE","NOISE","NONE","NOON","NOTE","OPEN","PACE","PACK","PAGE","PAIN","PAIR","PALE","PALM","PARK","PART","PASS","PAST","PATH","PEACE","PEAK","PICK","PILE","PINE","PINK","PIPE","PLAN","PLAY","PLOT","PLUS","POLE","POOL","POOR","PORT","POST","POUR","PRAY","PULL","PUMP","PURE","PUSH","QUACK","QUAD","QUAIL","QUAKE","QUART","QUEEN","QUEST","QUICK","QUIET","QUILL","QUILT","QUITE","QUOTE","RACE","RAIN","RAKE","RANK","RATE","READ","REAR","REED","REST","RICE","RIDE","RING","RISE","ROAD","ROCK","ROLE","ROLL","ROOF","ROOM","ROOT","ROPE","ROSE","RULE","RUN","RUSH","SAFE","SAIL","SALE","SALT","SAND","SAVE","SEAT","SEED","SEEK","SEEM","SELF","SELL","SEND","SENSE","SET","SHIP","SHOP","SHOT","SHOW","SHUT","SICK","SIDE","SIGN","SILK","SING","SINK","SITE","SIZE","SKIN","SKIP","SLIP","SLOW","SNAP","SNOW","SOFT","SOIL","SOLD","SOLE","SONG","SOON","SORT","SOUL","SPOT","STAR","STAY","STEP","STOP","SUCH","SUIT","SURE","SWAP","SWIM","TAIL","TAKE","TALE","TALK","TALL","TANK","TAPE","TASK","TEAM","TELL","TEND","TENT","TERM","TEST","TEXT","THAN","THAT","THEM","THEN","THIN","THIS","TIDE","TILE","TIME","TIRE","TONE","TOOL","TOUR","TOWN","TRAP","TREE","TRIP","TRUE","TUNE","TURN","TYPE","UNIT","VAST","VEIL","VIEW","VOTE","WAGE","WAIT","WAKE","WALK","WALL","WANT","WARM","WASH","WAVE","WEAK","WEAR","WEEK","WELL","WEST","WHAT","WHEN","WHIP","WIDE","WIFE","WILD","WILL","WIND","WINE","WING","WIPE","WIRE","WISE","WISH","WITH","WOOD","WORD","WORK","YARD","YEAR","YELL","YET","YOUR","ZONE"].filter(e=>{if(!e.includes(A))return!1;for(var t of e)if(!n.includes(t))return!1;return!0}).slice(0,50)}while(i.length<5);l=[],L=[],o=0,r=!1,I="Beginner",W(),U(),M(),H(),a.textContent="Center: "+A,N.textContent="Score: "+o,c.textContent="Words must be 4+ letters, include the center letter, and use only the given letters.",c.className="spelling-feedback info",O.disabled=!1,g.style.display="none","undefined"!=typeof gtag&&gtag("event","spelling_bee_started",{event_category:"spelling_bee",event_label:1,value:void 0})}function W(){e.textContent=n[0],e.onclick=()=>K(n[0]);for(let e=0;e<6;e++)t[e].textContent=n[e+1],t[e].onclick=()=>K(n[e+1])}function K(e){r||(l.push(e),U())}function U(){E.textContent=l.join("")}function H(){L.length;100<=o?(I="Genius",r||(r=!0,f())):I=70<=o?"Amazing":50<=o?"Great":30<=o?"Nice":20<=o?"Solid":10<=o?"Good":5<=o?"Moving Up":"Beginner",u.textContent="Rank: "+I}function M(){D.innerHTML="",L.sort((e,t)=>t.length-e.length).forEach(e=>{var t=document.createElement("div"),E=(t.className="word-item",7===e.split("").filter((e,t,E)=>E.indexOf(e)===t).length);E&&t.classList.add("pangram"),t.textContent=e,D.appendChild(t)})}function f(){C.textContent="Final Score: "+o,m.textContent="Words Found: "+L.join(", "),g.style.display="block"}function G(e,t){c.textContent=t,c.className="spelling-feedback "+e}function F(e){return e[Math.floor(Math.random()*e.length)]}function p(e){return e.sort(()=>Math.random()-.5)}P(),O.addEventListener("click",async function(){if(!r){var t=l.join("");if(t.length<4)G("error","Word must be at least 4 letters");else if(t.includes(A))if(L.includes(t))G("error","You already found this word");else if(await(async e=>{var t=e.toUpperCase();if(console.log(`Validating word: ${t}, Letters: ${n.join(", ")}, Center: `+A),!t.split("").every(e=>n.includes(e))||!t.includes(A))return console.log(`Word ${t} rejected: Invalid letters or missing center letter`),!1;if(i.includes(t))return console.log(`Word ${t} found in allPossibleWords`),!0;try{var E=await fetch("https://api.dictionaryapi.dev/api/v2/entries/en/"+e.toLowerCase());return E.ok?(console.log(`Word ${t} validated by API`),i.push(t),!0):(console.log(`API returned ${E.status} for `+t),G("info","Word validation failed. Try again or start a new game."),i.includes(t))}catch(e){return console.error(`Error validating word ${t}:`,e),G("info","Network error. Using local word list."),i.includes(t)}})(t)){let e=Math.max(1,t.length-3);G("success",7===t.split("").filter((e,t,E)=>E.indexOf(e)===t).length?`Pangram! +${e+=7} points!`:`+${e} points!`),o+=e,L.push(t),M(),H(),N.textContent="Score: "+o,N.classList.add("score-update"),setTimeout(()=>N.classList.remove("score-update"),500),l=[],U()}else G("error","Not a valid word");else G("error","Must use the center letter")}}),d.addEventListener("click",function(){r||(l=[],U())}),R.addEventListener("click",function(){r||(n=[n[0],...p(n.slice(1))],W())}),s.addEventListener("click",P),T.addEventListener("click",function(){var e;r?G("info","Game over! Start a new game to continue."):0<(e=i.filter(e=>!L.includes(e))).length?G("hint",`Try starting with: ${e.reduce((e,t)=>e.length>t.length?e:t).slice(0,2)}...`):G("hint",`Try combining the center letter (${A}) with other letters!`)}),S.addEventListener("click",function(){r=!0,f()}),B.addEventListener("click",P)}export{initWordGame};
