function initTriviaCatalog(){console.log("Initializing trivia catalog..."),setupCarousel(),setupCategoryCards(),updateProgressTracker()}function initCarouselScroll(){let t=document.querySelector(".carousel-wrapper"),r=!1,o,a;t.addEventListener("mousedown",e=>{r=!0,o=e.pageX-t.offsetLeft,a=t.scrollLeft}),t.addEventListener("mouseleave",()=>{r=!1}),t.addEventListener("mouseup",()=>{r=!1}),t.addEventListener("mousemove",e=>{r&&(e.preventDefault(),e=2*(e.pageX-t.offsetLeft-o),t.scrollLeft=a-e)}),t.addEventListener("touchstart",e=>{r=!0,o=e.touches[0].pageX-t.offsetLeft,a=t.scrollLeft}),t.addEventListener("touchend",()=>{r=!1}),t.addEventListener("touchmove",e=>{r&&(e.preventDefault(),e=2*(e.touches[0].pageX-t.offsetLeft-o),t.scrollLeft=a-e)})}function setupCarousel(){let t=document.querySelector(".carousel-wrapper"),r=document.querySelector(".carousel-track"),o=document.querySelector(".left-arrow"),a=document.querySelector(".right-arrow");var e;function s(e){t.scrollBy({left:300*e,behavior:"smooth"})}t&&r&&(window.matchMedia("(max-width: 768px)").matches&&initCarouselScroll(),o?.addEventListener("click",()=>s(-1)),a?.addEventListener("click",()=>s(1)),e=()=>{var e;o&&(o.style.opacity=10<t.scrollLeft?"1":"0.3",o.style.cursor=10<t.scrollLeft?"pointer":"default"),a&&(e=t.scrollLeft+t.clientWidth>=r.scrollWidth-10,a.style.opacity=e?"0.3":"1",a.style.cursor=e?"default":"pointer")},t.addEventListener("scroll",e),e())}function setupCategoryCards(){document.addEventListener("click",e=>{var e=e.target.closest(".category-card");e&&(e=e.dataset.category,console.log("Dispatching startQuiz for category:",e,"isTimedMode:",!1),document.dispatchEvent(new CustomEvent("startQuiz",{detail:{category:e,isTimedMode:!1}})))})}function updateProgressTracker(){let t=parseInt(localStorage.getItem("gamesPlayed")||"0");var e=Math.min(t/5*100,100),r=document.getElementById("progress-fill"),r=(r&&(r.style.width=e+"%",r.setAttribute("aria-valuenow",e)),[{threshold:0,text:"You're one game away from your first badge! Play now"},{threshold:1,text:"Keep going! 3 more games for a new achievement!"},{threshold:3,text:"Almost there! 1 more game to level up!"},{threshold:5,text:"Trivia Master! Play to discover new challenges!"}]),e=r.reverse().find(e=>t>=e.threshold)?.text||r[0].text;document.getElementById("progress-message").textContent=e}export{initTriviaCatalog};
